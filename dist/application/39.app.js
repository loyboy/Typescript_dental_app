(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[39],{

/***/ "./src/modules/instructions/components/page.instructions.tsx":
/*!*******************************************************************!*\
  !*** ./src/modules/instructions/components/page.instructions.tsx ***!
  \*******************************************************************/
/*! exports provided: InstructionsPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"InstructionsPage\", function() { return InstructionsPage; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _common_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @common-components */ \"./src/common-components/index.ts\");\n/* harmony import */ var _core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @core */ \"./src/core/index.ts\");\n/* harmony import */ var _modules__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @modules */ \"./src/modules/index.ts\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! mobx */ \"./node_modules/mobx/lib/mobx.module.js\");\n/* harmony import */ var mobx_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! mobx-react */ \"./node_modules/mobx-react/index.module.js\");\n/* harmony import */ var office_ui_fabric_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! office-ui-fabric-react */ \"./node_modules/office-ui-fabric-react/lib/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var react_to_print__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-to-print */ \"./node_modules/react-to-print/lib/index.js\");\n/* harmony import */ var react_to_print__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react_to_print__WEBPACK_IMPORTED_MODULE_8__);\n\n\n\n\n\n\n\n\n\nlet InstructionsPage = class InstructionsPage extends react__WEBPACK_IMPORTED_MODULE_7__[\"Component\"] {\n    constructor() {\n        super(...arguments);\n        this.showMenu = true;\n        this.selectedID = _core__WEBPACK_IMPORTED_MODULE_2__[\"router\"].currentLocation.split(\"/\")[1];\n    }\n    get selectedIndex() {\n        return _modules__WEBPACK_IMPORTED_MODULE_3__[\"instructions\"].list.findIndex(x => x._id === this.selectedID);\n    }\n    get selectedInstruction() {\n        return _modules__WEBPACK_IMPORTED_MODULE_3__[\"instructions\"].list[this.selectedIndex];\n    }\n    get canEdit() {\n        return _core__WEBPACK_IMPORTED_MODULE_2__[\"user\"].currentUser.canEditInstructions;\n    }\n    render() {\n        return (react__WEBPACK_IMPORTED_MODULE_7__[\"createElement\"](\"div\", { className: \"pc-pg p-15 p-l-10 p-r-10\" },\n            react__WEBPACK_IMPORTED_MODULE_7__[\"createElement\"](_common_components__WEBPACK_IMPORTED_MODULE_1__[\"DataTableComponent\"], { onDelete: this.canEdit\n                    ? id => {\n                        _modules__WEBPACK_IMPORTED_MODULE_3__[\"instructions\"].deleteModal(id);\n                    }\n                    : undefined, commands: this.canEdit\n                    ? [\n                        {\n                            key: \"addNew\",\n                            title: \"Add new\",\n                            name: Object(_core__WEBPACK_IMPORTED_MODULE_2__[\"text\"])(\"Add new\"),\n                            onClick: () => {\n                                const instruction = new _modules__WEBPACK_IMPORTED_MODULE_3__[\"InstructionItem\"]();\n                                _modules__WEBPACK_IMPORTED_MODULE_3__[\"instructions\"].list.push(instruction);\n                                this.selectedID = instruction._id;\n                            },\n                            iconProps: {\n                                iconName: \"Add\"\n                            }\n                        }\n                    ]\n                    : [], heads: [\n                    Object(_core__WEBPACK_IMPORTED_MODULE_2__[\"text\"])(\"Instruction Title\"),\n                ], rows: _modules__WEBPACK_IMPORTED_MODULE_3__[\"instructions\"].list.map(instr => {\n                    return {\n                        id: instr._id,\n                        searchableString: instr.searchableString,\n                        cells: [\n                            {\n                                dataValue: instr.name,\n                                component: (react__WEBPACK_IMPORTED_MODULE_7__[\"createElement\"](\"span\", null, instr.name)),\n                                onClick: () => {\n                                    this.selectedID = instr._id;\n                                },\n                                className: \"no-label\"\n                            },\n                            /*\t{\n                                    dataValue: instr.notes,\n                                    component: (\n                                        <span>\n                                            {instr.notes}\n                                        </span>\n                                    ),\n                                    className: \"hidden-xs\"\n                                },*/\n                            {\n                                dataValue: instr.notes,\n                                component: react__WEBPACK_IMPORTED_MODULE_7__[\"createElement\"](react_to_print__WEBPACK_IMPORTED_MODULE_8___default.a, { onBeforeGetContent: () => {\n                                        return new Promise((resolve, reject) => {\n                                            this.selectedID = instr._id;\n                                            this.setState({\n                                            //   currentEditReportId: String(index),\n                                            //   newReportValue: report,\n                                            //   title: report.title,\n                                            //   printReport: JSON.parse(report.report).blocks[0].text,d\n                                            }, () => resolve());\n                                        });\n                                    }, trigger: () => react__WEBPACK_IMPORTED_MODULE_7__[\"createElement\"](office_ui_fabric_react__WEBPACK_IMPORTED_MODULE_6__[\"IconButton\"], { className: \"action-button edit\", style: { float: 'right', right: '-85%' }, iconProps: {\n                                            iconName: \"print\"\n                                        }, onClick: (event) => console.log('hiiiiiiiii ++++') }), content: () => this.componentRef }),\n                                className: \"hidden-xs\"\n                            }\n                        ]\n                    };\n                }), maxItemsOnLoad: 20 }),\n            this.selectedInstruction ? (react__WEBPACK_IMPORTED_MODULE_7__[\"createElement\"](office_ui_fabric_react__WEBPACK_IMPORTED_MODULE_6__[\"Panel\"], { isOpen: !!this.selectedInstruction, type: office_ui_fabric_react__WEBPACK_IMPORTED_MODULE_6__[\"PanelType\"].medium, closeButtonAriaLabel: \"Close\", isLightDismiss: true, onDismiss: () => {\n                    this.selectedID = \"\";\n                } },\n                react__WEBPACK_IMPORTED_MODULE_7__[\"createElement\"](PrintComp, { ref: el => (this.componentRef = el) },\n                    react__WEBPACK_IMPORTED_MODULE_7__[\"createElement\"](\"div\", { className: \"prescription-editor\" },\n                        react__WEBPACK_IMPORTED_MODULE_7__[\"createElement\"](_common_components__WEBPACK_IMPORTED_MODULE_1__[\"SectionComponent\"], { title: Object(_core__WEBPACK_IMPORTED_MODULE_2__[\"text\"])(\"Instruction Details\") },\n                            react__WEBPACK_IMPORTED_MODULE_7__[\"createElement\"](office_ui_fabric_react__WEBPACK_IMPORTED_MODULE_6__[\"TextField\"], { label: Object(_core__WEBPACK_IMPORTED_MODULE_2__[\"text\"])(\"Instruction name\"), value: this.selectedInstruction.name, onChange: (ev, val) => (_modules__WEBPACK_IMPORTED_MODULE_3__[\"instructions\"].list[this.selectedIndex].name = val), disabled: !this.canEdit }),\n                            react__WEBPACK_IMPORTED_MODULE_7__[\"createElement\"](office_ui_fabric_react__WEBPACK_IMPORTED_MODULE_6__[\"TextField\"], { label: \"Notes\", multiline: true, rows: 4, value: this.selectedInstruction.notes.toString(), onChange: (ev, val) => (_modules__WEBPACK_IMPORTED_MODULE_3__[\"instructions\"].list[this.selectedIndex].notes = val) })))))) : (\"\")));\n    }\n};\nObject(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"])([\n    mobx__WEBPACK_IMPORTED_MODULE_4__[\"observable\"]\n], InstructionsPage.prototype, \"showMenu\", void 0);\nObject(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"])([\n    mobx__WEBPACK_IMPORTED_MODULE_4__[\"observable\"]\n], InstructionsPage.prototype, \"selectedID\", void 0);\nObject(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"])([\n    mobx__WEBPACK_IMPORTED_MODULE_4__[\"computed\"]\n], InstructionsPage.prototype, \"selectedIndex\", null);\nObject(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"])([\n    mobx__WEBPACK_IMPORTED_MODULE_4__[\"computed\"]\n], InstructionsPage.prototype, \"selectedInstruction\", null);\nObject(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"])([\n    mobx__WEBPACK_IMPORTED_MODULE_4__[\"computed\"]\n], InstructionsPage.prototype, \"canEdit\", null);\nInstructionsPage = Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"])([\n    mobx_react__WEBPACK_IMPORTED_MODULE_5__[\"observer\"]\n], InstructionsPage);\n\nclass PrintComp extends react__WEBPACK_IMPORTED_MODULE_7__[\"Component\"] {\n    render() {\n        return (this.props.children);\n    }\n}\n\n\n//# sourceURL=webpack:///./src/modules/instructions/components/page.instructions.tsx?");

/***/ })

}]);